CREATE TABLE IF NOT EXISTS DIALOG
(
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user_for_id   INTEGER,
    user_to_id INTEGER,
    FOREIGN KEY (user_for_id) REFERENCES USER_SOCIAL_NETWORK (id) ON DELETE CASCADE,
    FOREIGN KEY (user_to_id) REFERENCES USER_SOCIAL_NETWORK (id) ON DELETE CASCADE
    );

CREATE TABLE IF NOT EXISTS MESSAGE
(
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    content  VARCHAR(2000),
    user_for_id   INTEGER,
    user_to_id INTEGER,
    dialog_id INTEGER,
    FOREIGN KEY (user_for_id) REFERENCES USER_SOCIAL_NETWORK (id) ON DELETE CASCADE,
    FOREIGN KEY (user_to_id) REFERENCES USER_SOCIAL_NETWORK (id) ON DELETE CASCADE,
    FOREIGN KEY (dialog_id) REFERENCES DIALOG (id) ON DELETE CASCADE
    );